/* =========================================================
   0) Variables & fondations
   ========================================================= */
:root{
  /* --- Couleurs (tes variables) --- */
  --white:     #ffffff;
  --whiteB:    #f8f8f8;
  --lightGray: #e8e8e8;
  --lightGrayB:#e0e0e0;
  --darkGray:  #d4d4d4;
  --darkGrayB: #ccc;
  --backGray:  #bfbfbf;
  --backGrayB: #bbb;
  --black:     #000000;
  --emphase:   #0080FF;
  --red:       #8b0000;
  --green:     #06402b;

  /* --- Mesures unifiées --- */
  --control-h: 44px;       /* hauteur unique pour TOUT (inputs, selects, tags, boutons, etc.) */
  --radius:    12px;       /* border-radius unique */
  --pad-x:     12px;       /* padding horizontal par défaut */
  --pad-y:     10px;       /* padding vertical par défaut */
  --gap:       6px;        /* marge/gap par défaut entre éléments */

  /* --- Typo unifiée --- */
  --font:      system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  --fs-base:   16px;        /* base */
  --fs-small:  13px;        /* petits textes (ex: cellules série) */
  --fs-rpe:    13px;        /* taille spécifique RPE dans série */
  --fw-base:   600;
  --fw-strong: 700;

/* Hauteurs “réelles” en tenant compte des bordures */
  --header-h:  44px;       /* hauteur du header */
  --tab-h:     44px;       /* hauteur de la tab bar */
  --tabbar-h: calc(var(--tab-h) + 2px);      /* 2px = border-top de .tabbar */
  --header-total-h: calc(var(--header-h) + 2px); /* 2px = border-bottom du header/subheader */
}


/* Safe areas iOS */
.safe-top    { padding-top: env(safe-area-inset-top, 0); }
.safe-bottom { padding-bottom: calc(env(safe-area-inset-bottom, 0) + 8px); }


/* Reset simple */
*{ box-sizing:border-box; }
html {
   height:100%;
   -webkit-text-size-adjust: 100%;
}
body{
    height:100%;
    margin:0;
    background: var(--backGray);          /* 4.Fond app */
    color: var(--black);
    font-family: var(--font);
    font-size: var(--fs-base);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* Ecran */
.screen {
    display: flex;
    flex-direction: column;

}
.screen[hidden] { display: none !important; }
/* Paneau de contenu */


/* Grilles utilitaires */
.row{ display:flex; align-items:center; gap:var(--gap); }
.row.between{ justify-content:space-between; }
.row #routineName{ flex:1 1 auto; min-width:0; }
.row #routineIcon{ flex:0 0 auto; width:auto; min-width:72px; }
.full{ width:100%; }
.flex-1{ flex:1; }
  
/* Détails textes (gris) */
.details{ color: var(--darkGrayB); }            /* 3.Texte détails */


/* =========================================================
   1) En-têtes & panneaux
   ========================================================= */
/* Header principal / Sous-header : fond blanc + bordure */
header{
    z-index:5;
    position: sticky; top: 0; left:0; right:0;
    display:flex; align-items:center; justify-content:space-between;
    padding: var(--pad-y) var(--pad-x);
    background: var(--white);                     /* 4.Header blanc */
    border-bottom: 2px solid var(--whiteB);       /* 4.Bordure basse whiteB */

}

header .title{ font-weight: var(--fw-strong); }

/* =========================================================
   2) Contenu
   ========================================================= */
 .content {
    flex: 1;
    background: var(--whiteB);                /* panneau blanc */
    border-inline: 6px solid var(--lightGrayB);
    padding:  12px;
    min-height: calc(100svh - var(--tabbar-h) - var(--header-total-h) - env(safe-area-inset-bottom, 0));  overflow-y: auto;
}


/* =========================================================
   2) Tab bar (bas)
   ========================================================= */
.tabbar{
    z-index:10;
    position: fixed; bottom:0; left:0; right:0; 
    height: var(--tab-h);
    display:flex;
    gap: 0;
    padding: 0;
    background: var(--white);                     /* 4.Tab bar fond blanc */
    border-top: 2px solid var(--whiteB);          /* 4.Bordure haute whiteB */
}
.tab{
    flex: 1 1 25%;
    height: 100%;
    box-sizing: border-box;
    font-size: 32px;
    display:flex; align-items:center; justify-content:center;
    padding: 0 var(--pad-x);
    background: transparent;
    border:3px solid transparent;
    cursor:pointer;
    user-select: none;
}
.tab.active{
    border-top: 3px solid var(--black);         /* 4.Onglet actif bordure haute noir */
}

/* =========================================================
   4) Timer
   ========================================================= */
/* Timer bas */
.exec-timer{
    z-index:20;
    position:sticky;
    bottom: calc(var(--tabbar-h) + env(safe-area-inset-bottom, 0));
    
    display:grid; grid-template-columns: 1fr 2fr 1fr;
    align-items:center; gap:8px;
    padding:10px 12px;
    background: var(--white);
    border-top:1px solid var(--whiteB);
}
.exec-timer .tmr-center{ display:flex; align-items:center; justify-content:center; gap:10px; }
.tmr-display{ font-weight: var(--fw-strong); min-width:76px; text-align:center; }
.exec-timer .btn.ghost{ border:1px solid var(--whiteB); }

/* =========================================================
   4) Contrôles unifiés (inputs, selects, tags, listes)
   ========================================================= */
/* États invisibles */
.sr-only{ position:absolute; left:-9999px; }

/* Base champs & listes */
.input, select, textarea{
  height: var(--control-h);
  width: 100%;
  padding: 0 var(--pad-x);
  border-radius: var(--radius);
  border: 1px solid var(--black);
  background: var(--white);
  color: var(--darkGrayB);
  font-size: var(--fs-base);
  font-weight: var(--fw-base);
  touch-action: manipulation;       /* coupe le geste double-tap=zoom */
  -webkit-tap-highlight-color: transparent; 
}
textarea{
  resize: vertical;
}

/* Focus/actif -> fond gris + bordure strong */
.input:focus,
select:focus,
textarea:focus{
  background: var(--darkGray);
  color: var(--black);
  font-size: var(--fs-base);
  font-weight: var(--fw-strong);
}

/* Valeur définie (non vide) — forcer style “défini” */
.has-value{
  color: var(--black);
  font-weight: var(--fw-strong);
}

/* =========================================================
   Statistiques
   ========================================================= */
.stats-header {
    margin-bottom: 16px;
}

.stats-subtitle {
    color: var(--darkGrayB);
}

.stats-chart-card {
    margin-bottom: 16px;
    padding: 0;
    background: var(--white);
    border: 1px solid var(--lightGrayB);
    border-radius: var(--radius);
}

#statsMetricTags,
#statsRangeTags {
    --tag-columns: 4;
}

.stats-tags-group {
    gap: 6px;
}

.stats-chart {
    width: 100%;
    min-height: 240px;
}

.stats-chart-svg {
    width: 100%;
    height: 240px;
    display: block;
}

.stats-chart-svg .stats-axis-label {
    font-size: 10px;
    fill: var(--darkGrayB);
}

.stats-chart-svg .stats-axis-tick {
    font-size: 12px;
    fill: var(--darkGrayB);
}

.stats-chart-svg .stats-grid-line {
    stroke: var(--lightGray);
    stroke-width: 1;
}

.stats-chart-svg .stats-axis-tick-line {
    stroke: #d4d4d4;
    stroke-width: 1.5;
}

.stats-chart-empty {
    padding: 24px 0;
    text-align: center;
    color: var(--darkGrayB);
}

.stats-section-title {
    margin: 24px 0 12px;
    font-weight: var(--fw-strong);
}

.stats-timeline {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.stats-timeline-item {
    display: flex;
    justify-content: space-between;
    align-items: baseline;
    padding: 12px 16px;
    background: var(--white);
    border: 1px solid var(--lightGrayB);
    border-radius: var(--radius);
}

.stats-timeline-date {
    font-weight: var(--fw-strong);
}

.stats-timeline-value {
    color: var(--black);
    font-weight: var(--fw-strong);
}

.stats-timeline-empty {
    padding: 16px;
    text-align: center;
    color: var(--darkGrayB);
    background: transparent;
}

/* Grosse image pour l'exécution */
image_big{
	 width:100%;
	 height:auto;
	 max-height:320px;
	 object-fit:cover;
	 border-radius:12px;
	 border:1px solid var(--lightGrayB);
	 background:var(--lightGray);

     touch-action: manipulation;      /* coupe le double-tap zoom sur iOS récents */
     -webkit-user-select: none;
     user-select: none;
     -webkit-user-drag: none;
     user-drag: none;
}

/* Panneaux/cartes (listes, cartes) */
.panel{
  background: var(--white);                     /* 4.Panneaux blancs */
  border: 1px solid var(--whiteB);              /* 4.Bordure whiteB */
  border-radius: var(--radius);
  padding: var(--pad-y) var(--pad-x);
}
.exercise-card{
  background: var(--white);
  border: 1px solid var(--black);
  border-radius: var(--radius);
  padding: var(--pad-y) var(--pad-x);
}
.exercise-card-row{ display:flex; align-items:stretch; justify-content:space-between; gap:var(--gap); min-height:68px; }
.exercise-card-left{ display:flex; align-items:stretch; gap:10px; flex:1; min-width:0; }
.exercise-card-right{ display:flex; align-items:center; justify-content:flex-end; gap:8px; flex-shrink:0; min-width:40px; }
.exercise-card-text{ display:flex; flex-direction:column; gap:2px; min-width:0; justify-content:center; }
.exercise-card-text .element,
.exercise-card-text .details{
  overflow:hidden;
  text-overflow:ellipsis;
  white-space:nowrap;
}
.session-card-handle{
  border:none;
  background:none;
  color:inherit;
  padding:4px;
  border-radius:8px;
  cursor:grab;
  touch-action: none;
  display:flex;
  align-items:center;
  justify-content:center;
}
.session-card-handle,
.session-card-handle *,
.session-card-grip,
.session-card-grip *,
.session-card-sets,
.session-card-sets *,
.session-card-text,
.session-card-text *,
.session-card-pencil,
.session-card-pencil *{
  -webkit-user-select: none;
  user-select: none;
}
.session-card-handle:focus-visible{
  outline:2px solid var(--black);
  outline-offset:2px;
}
.session-card-handle:active{
  cursor:grabbing;
}
.session-card-grip{
  display:flex;
  flex-direction:column;
  gap:2px;
  align-items:center;
  justify-content:center;
}
.session-card-grip-dot{
  width:4px;
  height:4px;
  border-radius:50%;
  background:currentColor;
  opacity:.7;
}
.session-card-sets{
  display:flex;
  flex-direction:column;
  gap:4px;
  margin-top:4px;
}
.session-card-sets-row{
  display:flex;
  flex-wrap:nowrap;
  gap:4px;
}
.session-card-sets:empty{
  display:none;
}
.session-card-set{
  display:inline-flex;
  align-items:center;
  gap:4px;
  padding:4px 8px;
  border-radius:8px;
  background:var(--lightGray);
  border:1px solid var(--lightGrayB);
  font-size:var(--fs-small);
  line-height:1.1;
}
.session-card-set--ellipsis{
  justify-content:center;
  font-weight:600;
}
.session-card-set sup{
  font-size:.7em;
  color:var(--darkGrayB);
}
.session-card-pencil{
  font-size:20px;
  line-height:1;
}
.session-card-dragging{
  box-shadow:0 10px 24px rgba(0,0,0,.18);
}
.session-card-placeholder{
  border:1px dashed var(--whiteB);
  border-radius:var(--radius);
}
.exercise-card-thumb{
  height:100%;
  aspect-ratio:1 / 1;
  width:auto;
  border-radius:8px;
  object-fit:cover;
  background:var(--lightGray);
  flex-shrink:0;
  border: 1px solid var(--lightGrayB);
  align-self:stretch;
}
.exercise-card.selected{
  background: var(--darkGray);
  color: var(--white);
}
.exercise-card.clickable{ cursor:pointer; user-select:none; border: var(--black);}
.exercise-card.selected .element,
.exercise-card.selected .details{
  color: var(--white);
}
.exercise-card-thumb.clickable{
  cursor: pointer;
  border-color: var(--black);
}
.exercise-card-check{
  width:20px;
  height:20px;
  cursor:pointer;
}
.exercise-card-eye{
  border:none;
  background:none;
  color:inherit;
  font-size:20px;
  line-height:1;
  cursor:pointer;
  padding:4px;
  border-radius:50%;
}
.exercise-card-eye:focus-visible{
  outline:2px solid var(--black);
  outline-offset:2px;
}
.exercise-thumb-placeholder{ object-fit:contain; }
.exercise-selection-bar{
  position:sticky;
  top:0;
  z-index:10;
  padding:8px 0;
  background:var(--white);
}
.exercise-selection-bar.hidden{ display:none; }
.exercise-hero-placeholder{ object-fit:contain; background:var(--lightGray); }


/* =========================================================
   4) Tags (sélecteurs multi/single)
   ========================================================= */
.tags{
  --tag-gap: 1px;                              /* UN seul pixel d’écart */
  --tag-columns: 1;
  --tag-width: calc((100% - (var(--tag-columns, 1) - 1) * var(--tag-gap, 1px)) / var(--tag-columns, 1));
  display:flex; flex-wrap:wrap;
  gap: var(--tag-gap);
}
.tags.mono .tag{
  font-family: "SFMono-Regular","Roboto Mono","Menlo","Courier New",monospace;
  font-weight: var(--fw-base);
}
.tag{
  height: var(--control-h);
  display:inline-flex; align-items:center; justify-content:center;
  flex: 0 0 var(--tag-width);
  max-width: var(--tag-width);
  padding: 0 12px;
  border-radius: var(--radius);
  border: 1px solid var(--black);
  background: var(--white);
  color: var(--darkGrayB);                      /* 3.Texte gris pour “non sélectionné” */
  font: inherit;
  margin: 0;
  user-select:none;
  cursor:pointer;
  box-sizing:border-box;
  overflow:hidden;
  text-overflow:ellipsis;
  white-space:nowrap;
  min-width:0;
  text-align:center;
}
.tag:focus-visible{
  outline: 2px solid var(--emphase);
  outline-offset: 2px;
}
.tag.selected{
  background: var(--darkGrayB);                  /* 6.Tag cliqué */
  color: var(--white);
}

/* =========================================================
   5) Boutons
   ========================================================= */
.btn{
  height: var(--control-h);
  display:inline-flex; align-items:center; justify-content:center;
  padding: 0 var(--pad-x);
  border-radius: var(--radius);
  border: 1px solid var(--black);
  background: transparent;
  color: var(--black);
  font-weight: var(--fw-strong);
  cursor:pointer; user-select:none;
  touch-action: manipulation;       /* coupe le geste double-tap=zoom */
  -webkit-tap-highlight-color: transparent;
}

/* En-tête RETOUR */
.btn.ghost{
  border-color: var(--darkGrayB);
  color: var(--darkGrayB);
}

/* En-tête OK */
.btn.primary{
  border-color: var(--emphase);
  background: var(--emphase);
  color: var(--white);
}

/* Supprimer */
.btn.danger{
  border-color: var(--red);
  color: var(--red);
}

/* Image cliquable (ex: preview) */
.btn.image{
  border-color: var(--black);
}

/* Disabled */
.btn[disabled]{ opacity:.5; cursor:not-allowed; }

/* =========================================================
   6) Listes / Filtres (écran Bibliothèque)
   ========================================================= */
/*.list.cards{ display:flex; flex-direction:column; gap:var(--gap); margin-top:var(--gap); }*/
.bloque{    display:flex; flex-direction:column; gap:var(--gap); margin-top:var(--gap); }
/*.form{       display:flex; flex-direction:column; gap:var(--gap); margin-top:var(--gap); }*/
.lbl{ font-weight: var(--fw-strong); }
.listing{ margin: 0; font-weight: var(--fw-strong); padding-left: 0; list-style-position: inside; }
.hint{ margin-top:6px; color: var(--darkGrayB); font-size: var(--fs-small); }
/* Placeholders d’images */
.exercise-row{
  display:grid; grid-template-columns: 64px 1fr auto;
  gap:10px; align-items:center;
  padding:8px 0; border-bottom:1px solid var(--whiteB);
}
.exercise-row img{
  width:64px; height:64px; object-fit:cover; border-radius:8px; background: var(--lightGray);
}

/* =========================================================
   7) Semaine & calendrier
   ========================================================= */
.week-strip-wrapper{
  display:flex; align-items:center; gap:var(--gap);
  margin-bottom:12px;
}
.week-strip{
  display:flex; gap:var(--gap); overflow-x:auto;
  padding-bottom:8px; margin-bottom:0;
  border-bottom:1px dashed var(--whiteB);
  -webkit-overflow-scrolling:touch;
  scrollbar-width:none;
}
.week-strip::-webkit-scrollbar{ display:none; }
.week-strip-nav{
  display:flex; align-items:center; justify-content:center;
  width: var(--control-h); height: var(--control-h);
  border-radius: var(--radius);
  border:1px solid var(--whiteB);
  background: var(--whiteB);
  font-size:1.2rem;
  cursor:pointer;
  user-select:none;
}
.week-strip-nav:active{ transform: scale(.97); }
.week-strip-wrapper .week-strip{ flex:1; }
.week-strip .week-page{
  display:grid; grid-template-columns:repeat(7,minmax(0,1fr));
  gap:var(--gap);
  flex:0 0 100%; width:100%;
}
.week-strip .day{
  height: var(--control-h);
  display:flex; flex-direction:column; align-items:center; justify-content:center;
  gap:4px;
  padding:6px 4px;
  text-align:center; white-space:normal; line-height:1.1;
  border:1px solid var(--whiteB);
  border-radius: var(--radius);
  background: var(--whiteB);
  font-weight: var(--fw-strong);
  user-select:none; cursor:pointer;
  transition: transform .06s ease;
}
.week-strip .day span{ display:block; }
.week-strip .day-weekday{ font-size: var(--fs-small); text-transform:capitalize; }
.week-strip .day-number{ font-size:1.1em; }
.week-strip .day:active{ transform: scale(.98); }

/* Règles de priorité: selected > has-session > planned */
.week-strip .day.planned{
  background: var(--backGrayB); color: #333; border-color: var(--backGrayB);
}
.week-strip .day.has-session{
  background: var(--black); color:#fff; border-color: var(--black);
}
.week-strip .day.selected{
  background: var(--emphase); color:#fff; border-color: var(--emphase);
}

/* Modale calendrier */
.modal{
  border:none; border-radius:14px; padding:var(--gap);
  max-width:420px; width:90vw;
}
.modal::backdrop{ background: rgba(0,0,0,.25); }

#dlgCalendar.modal{
  margin:0;
  position:fixed;
  left:50%;
  transform:translateX(-50%);
  bottom: calc(var(--tabbar-h) + env(safe-area-inset-bottom, 0) + 12px);
  width: min(420px, calc(100vw - 24px));
}
.modal-header{
  display:flex; justify-content:space-between; align-items:center;
  padding: var(--pad-y) var(--pad-x);
  border-bottom:1px solid var(--whiteB);
}
.big-calendar{ padding: var(--pad-y); }
.month-grid{ display:grid; grid-template-columns: repeat(7,1fr); gap:6px; }
.dow{ text-align:center; color: var(--darkGrayB); font-weight: var(--fw-strong); }
.day-cell{
  padding:8px 0; border:1px solid var(--whiteB); border-radius:8px;
  background:#fafafa; cursor:pointer; user-select:none;
  transition: transform .06s ease;
}
.day-cell:active{ transform: scale(.98); }
.day-cell.planned{ background: var(--backGrayB); color:#333; border-color: var(--backGrayB); }
.day-cell.has-session{ background: var(--black); color:#fff; border-color: var(--black); }
.day-cell.selected{ background: var(--black); color:#fff; border-color: var(--black); }
.day-cell.placeholder{
  background: transparent;
  border-color: transparent;
  cursor: default;
  pointer-events: none;
}

/* =========================================================
   8) Séance du jour & séries
   ========================================================= */
.session-list{ display:flex; flex-direction:column; gap:12px; margin:16px 0; }
.element{ font-weight: var(--fw-strong); }

/* Grille des séries (3 par ligne) */
.set-grid{
  display:grid; grid-template-columns: repeat(3,1fr);
  gap: var(--gap); margin-top: var(--gap);
}
.set-cell{
  border:1px solid var(--whiteB);
  border-radius: var(--radius);
  padding: 8px 10px;
  text-align:center;
  font-size: var(--fs-small);                 /* 3.Texte plus petit */
}
.set-cell sup{ font-size:.7em; color: var(--darkGrayB); }
.set-cell .rpe{ font-size: var(--fs-rpe); }   /* 3.RPE a sa propre taille */

/* État “vide” */
.empty{
  color: var(--darkGrayB);
  border:1px dashed var(--whiteB);
  border-radius: var(--radius);
  padding: 12px; text-align:center;
}

/* =========================================================
   9) Édition exécution (Colonne A) & Timer
   ========================================================= */
.exec-grid{
  display:grid; gap:8px; margin-top:8px;
  grid-template-columns: 1.2fr 1.2fr .8fr .8fr .8fr auto; /* Reps | Poids | RPE | Repos mn | Repos sec | Action */
  text-align:center; align-items:center;
}
.exec-grid.routine-set-grid{
  grid-template-columns: minmax(32px, 0.4fr) 1fr 1fr .8fr .8fr .8fr auto; /* # | Reps | Poids | RPE | Repos mn | Repos sec | Actions */
}
.routine-set-grid > *{ min-width:0; }
.exec-head{ font-weight: var(--fw-strong); }
.exec-head > *{ display:flex; flex-direction:column; align-items:center; justify-content:center; text-align:center; }
.routine-set-head{
  font-size: var(--fs-small);
  color: var(--darkGrayB);
}
.routine-set-head .set-editor-label{
  font-weight: var(--fw-strong);
}
.exec-row .input{
  height: var(--control-h); width:100%;
  text-align:center; margin:0; padding:0 8px;
}

.exec-row.exec-executed,
.exec-row.exec-planned,
.exec-row.exec-new,
.exec-edit-row{
  font-size: var(--fs-base);
}

.routine-set-actions{
  display:flex;
  justify-content:flex-end;
  gap:8px;
}

.routine-set-actions .btn{
  border-color: var(--black);
  color: var(--black);
}

.routine-set-row-active{
  box-shadow: inset 0 -2px var(--emphase);
}

.routine-set-order{
  font-weight: var(--fw-strong);
}

.set-edit-button{
  width:100%;
  min-height: var(--control-h);
  font-weight: var(--fw-strong);
  font-size: var(--fs-base);
  color: var(--black);
  background: var(--whiteB);
  border-color: var(--black);
}
.routine-set-grid .set-edit-button{
  color: var(--black);
}

.exec-set-row{
  color: var(--black);
}

.exec-set-row .set-edit-button{
  color: inherit;
}

.exec-set-row .set-edit-button:hover,
.exec-set-row .set-edit-button:focus{
  color: inherit;
}

.exec-set-planned{
  color: var(--lightGrayB);
}

.exec-set-planned .set-edit-button{
  border-color: var(--lightGrayB);
  color: var(--lightGrayB);
}

.exec-set-planned .routine-set-order{
  color: var(--lightGrayB);
}

.exec-set-planned .routine-set-actions .btn{
  border-color: var(--lightGrayB);
  color: var(--lightGrayB);
}

.exec-set-planned .rpe-chip{
  background: transparent;
  border: 1px solid var(--lightGrayB);
  color: var(--lightGrayB);
}

.rpe-chip-muted{
  background: transparent;
  border: 1px solid currentColor;
  color: inherit;
}

.set-edit-button:hover,
.set-edit-button:focus{
  background: var(--whiteA);
  outline:none;
}

.set-editor-highlight{
  background: var(--lightGray);
  border-radius: var(--radius);
  outline: 2px solid var(--emphase);
  outline-offset: 0;
}

.set-editor-highlight .set-edit-button{
  background: var(--lightGray);
  outline: 2px solid var(--emphase);
  outline-offset: 0;
}

.set-editor-highlight .set-edit-button:hover,
.set-editor-highlight .set-edit-button:focus{
  background: var(--lightGray);
}

.exec-rest-cell{
  font-variant-numeric: tabular-nums;
}

.routine-set-head-rest{
  grid-column: span 2;
  display:flex;
  align-items:center;
  justify-content:center;
  text-align:center;
}

.add-actions{
  margin-top: var(--gap);
}

.set-editor-form{
  display:flex;
  flex-direction:column;
  gap:14px;
  min-width:280px;
}

.set-editor-grid{
  display:grid;
  gap:8px;
  grid-template-columns: repeat(5, minmax(0, 1fr));
}

.set-editor-field{
  display:flex;
  flex-direction:column;
  gap:2px;
}

.set-editor-label{
  font-weight: var(--fw-strong);
  font-size: var(--fs-small);
  line-height:1.1;
  color: var(--darkGrayB);
  text-align:center;
}

.set-editor-rest{
  grid-column: span 2;
  display:flex;
  flex-direction:column;
  align-items:center;
}

.set-editor-rest-grid{
  display:grid;
  gap:8px;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  justify-items:center;
  width:100%;
}

.set-editor-subfield{
  display:flex;
  flex-direction:column;
  align-items:center;
}

.set-editor-rest-grid .vstepper{
  width:75%;
}

.set-editor-rest-grid .vstepper .btn{
  height: var(--control-h);
  min-height: var(--control-h);
  font-size: calc(var(--fs-base) * 0.75);
  padding-inline: 0;
}

.set-editor-rest-grid .vstepper .input{
  height: var(--control-h);
  min-height: var(--control-h);
  text-align:center;
  font-size: calc(var(--fs-base) * 0.75);
}

.set-editor-actions{
  display:flex;
  gap:8px;
}

.set-editor-actions .btn{
  flex:1 1 0;
  min-width:0;
}

.set-editor-actions-vertical{
  flex-direction:column;
}

.set-editor-actions-vertical .btn{
  flex:0 0 auto;
  width:100%;
}

.set-editor-form.set-editor-tone-black .set-editor-field .vstepper .input,
.set-editor-form.set-editor-tone-black .set-editor-field .vstepper .btn,
.set-editor-form.set-editor-tone-black .set-editor-actions .btn.ghost{
  color: var(--black);
  border-color: var(--black);
}

.set-editor-form.set-editor-tone-black .set-editor-field .vstepper .input{
  font-weight: var(--fw-strong);
}

.set-editor-form.set-editor-tone-muted .set-editor-field .vstepper .input,
.set-editor-form.set-editor-tone-muted .set-editor-field .vstepper .btn,
.set-editor-form.set-editor-tone-muted .set-editor-actions .btn.ghost{
  color: var(--darkGrayB);
  border-color: var(--darkGrayB);
}

.set-editor-form.set-editor-tone-muted .set-editor-field .vstepper .input{
  font-weight: var(--fw-base);
}

.set-editor-form .vstepper{
  width:100%;
}

.set-editor-form .vstepper .input{
  text-align:center;
}


.btn-icon{
  min-width:36px;
  padding:8px;
  font-size:18px;
  line-height:1;
}

.exec-row.is-selected{
  background: var(--darkGray);
  color: var(--white);
  box-shadow: 0 0 0 2px var(--emphase);
  border-radius: var(--radius);
}

.exec-row.is-selected .details,
.exec-row.is-selected .details *,
.exec-row.is-selected .input,
.exec-row.is-selected select,
.exec-row.is-selected .btn{
  color: var(--white);
}

.exec-row.is-selected .input,
.exec-row.is-selected select{
  background: transparent;
  border-color: var(--white);
}

.exec-row.is-selected .btn{
  border-color: var(--white);
}

/* Stepper vertical */
.vstepper{ 
	display:flex; 
	flex-direction:column; 
	gap:4px;
	touch-action: manipulation;       /* coupe le geste double-tap=zoom */
    -webkit-tap-highlight-color: transparent; 
}
.vstepper .btn{ font-size: var(--fs-base); min-height:32px; line-height:1; }

/* number sans flèches natives */
input[type="number"]::-webkit-outer-spin-button,
input[type="number"]::-webkit-inner-spin-button{ -webkit-appearance:none; margin:0; }
input[type="number"]{ -moz-appearance:textfield; }

/* RPE chips (couleurs existantes) */
.rpe-chip{ display:inline-block; padding:4px 8px; border-radius:999px; color:#fff; font-weight: var(--fw-strong); font-size:.9em; }
.rpe-5{ background:#3a7; } .rpe-6{ background:#3c8; } .rpe-7{ background:#6c6; }
.rpe-8{ background:#c93; } .rpe-9{ background:#d55; } .rpe-10{ background:#a00; }

/* Champs spécifiques */
/* =========================================================
   10) Responsivité
   ========================================================= */
@media (min-width: 720px){
  .content{ padding-left:16px; padding-right:16px; }
}
