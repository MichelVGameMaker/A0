/* =========================================================
   0) Variables & fondations
   ========================================================= */
:root{
  /* --- Couleurs (tes variables) --- */
  --panelBack:     #ffffff;
  --panelBord:     #f8f8f8;
  --blocBord:      #e0e0e0;
  --labelColor:    #bbb;
  --emptyColor:    #ccc;
  --filledColor:   #000000;
  --selectedColor: #000000;
  --bodyBack:      #8b0000;
  --selectedBack:  #d4d4d4;
  --selectedBord:  #ccc;
  --focusedBack:   #bfbfbf;
  --focusedBord:   #0080FF;
  --clickableBack: #e8e8e8;
  --clickableBord: #e0e0e0;
  --black:         #000000;
  --emphase:       #0080FF;
  --red:           #8b0000;
  --green:         #06402b;

  /* --- Mesures unifiées --- */
  --control-h: 44px;       /* hauteur unique pour TOUT (inputs, selects, tags, boutons, etc.) */
  --radius:    12px;       /* border-radius unique */
  --pad-x:     12px;       /* padding horizontal par défaut */
  --pad-y:     10px;       /* padding vertical par défaut */
  --gap:       6px;        /* marge/gap par défaut entre éléments */

  /* --- Typo unifiée --- */
  --font:      system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  --fs-base:   16px;        /* base */
  --fs-small:  13px;        /* petits textes (ex: cellules série) */
  --fs-rpe:    13px;        /* taille spécifique RPE dans série */
  --fw-light:   500;
  --fw-base:   600;
  --fw-strong: 700;

/* Hauteurs “réelles” en tenant compte des bordures */
  --header-h:  44px;       /* hauteur du header */
  --tab-h:     44px;       /* hauteur de la tab bar */
  --tabbar-h: calc(var(--tab-h) + 2px);      /* 2px = border-top de .tabbar */
  --header-total-h: calc(var(--header-h) + 2px); /* 2px = border-bottom du header/subheader */
}


/* Safe areas iOS */
.safe-top    { padding-top: env(safe-area-inset-top, 0); }
.safe-bottom { padding-bottom: calc(env(safe-area-inset-bottom, 0) + 8px); }


/* Reset simple */
*{ box-sizing:border-box; }
html {
   height:100%;
   -webkit-text-size-adjust: 100%;
}
body{
    height:100%;
    margin:0;
    background: var(--bodyBack);          /* 4.Fond app */
    color: var(--black);
    font-family: var(--font);
    font-size: var(--fs-base);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* Ecran */
.screen {
    display: flex;
    flex-direction: column;
}
.screen[hidden] { display: none !important; }

/* Grilles utilitaires */
.row{ display:flex; align-items:center; gap:var(--gap); }
.row.between{ justify-content:space-between; }
.row #routineName{ flex:1 1 auto; min-width:0; }
.row #routineIcon{ flex:0 0 auto; width:auto; min-width:72px; }
.full{ width:100%; }
.flex-1{ flex:1; }
  



/* =========================================================
   1) Contenu
   ========================================================= */
 .content {
    flex: 1;
    background: var(--panelBord);                /* panneau blanc */
    border-inline: 6px solid var(--blocBord);
    padding:  12px;
    min-height: calc(100svh - var(--tabbar-h) - var(--header-total-h) - env(safe-area-inset-bottom, 0));  overflow-y: auto;
}

/* =========================================================
   2) Header principal (haut)
   ========================================================= */
header{
    z-index:5;
    position: sticky; top: 0; left:0; right:0;
    height: var(--tab-h);
    display:flex; align-items:center; justify-content:space-between;
    padding: var(--pad-y) var(--pad-x);
    background: var(--panelBack);
    border-bottom: 2px solid var(--panelBord);
    user-select: none;
}

header .title{ font-weight: var(--fw-strong); }

/* =========================================================
   3) Tab bar (bas)
   ========================================================= */
.tabbar{
    z-index:10;
    position: fixed; bottom:0; left:0; right:0; 
    height: var(--tab-h);
    display:flex; align-items:center; justify-content:space-between;
    background: var(--panelBack);
    border-top: 2px solid var(--panelBord);
    user-select: none;
}
.tab{
    flex: 1 1 25%;
    height: 100%;
    box-sizing: border-box;
    font-size: 32px;
    padding: 0 var(--pad-x);
    background: transparent;
    border:3px solid transparent;
    cursor:pointer;
}
.tab.active{
    border-top: 3px solid var(--focusedBord);         /* 4.Onglet actif bordure haute noir */
}

/* =========================================================
   4) Modale
   ========================================================= */
.modal{
    border:none; 
    border-radius: var(--radius);
    padding:var(--gap);
    max-width:520px;
    width:92vw;
}
.modal::backdrop{ 
    background: rgba(0,0,0,.25); 
    }
.modal-header{
    display:flex;  align-items:center; justify-content:space-between;
    padding: var(--pad-y) var(--pad-x);
    border-bottom:1px solid var(--panelBord);
}

/* =========================================================
   5) Timer
   ========================================================= */
/* Timer bas */
.exec-timer{
    z-index:20;
    position:sticky;
    bottom: calc(var(--tabbar-h) + env(safe-area-inset-bottom, 0));
    display:grid; grid-template-columns: minmax(0, 1fr) auto minmax(0, 1fr);
    align-items:center; gap:12px;
    padding:12px 12px;
    background: var(--panelBack);
    border-top:1px solid var(--panelBord);
}
.tmr-center{ display:flex; align-items:center; justify-content:center; gap:12px; }
.tmr-display{ font-weight: var(--fw-strong); min-width:76px; text-align:center; }

/* =========================================================
   6) Textes 
   ========================================================= */
/* Textes */
.lbl{ color: var(--labelColor); font-weight: var(--fw-strong); }
.details{ color: var(--labelColor); font-weight: var(--fw-light); }
.listing{ margin: 0; font-weight: var(--fw-strong); padding-left: 0; list-style-position: inside; }

/* Grosse image pour l'exécution */
image_big{
	 width:80%;
	 height:auto;
	 max-height:320px;
	 object-fit:cover;
	 border-radius:12px;
	 border:1px solid var(--blocBord);

     touch-action: manipulation;      /* coupe le double-tap zoom sur iOS récents */
     -webkit-user-select: none;
     user-select: none;
     -webkit-user-drag: none;
     user-drag: none;
}
/* =========================================================
   7) Contrôles unifiés (inputs, selects, tags, listes)
   ========================================================= */
/* États invisibles */
.sr-only{ position:absolute; left:-9999px; }

.is-clickable {
    /* Cliquable */
    border: 1px solid var(--clickableBord);
    background: var(--clickableBack); 
    cursor: pointer;
    touch-action: manipulation;       /* coupe le geste double-tap=zoom */
}
.is-focused {
    /* Focusé */
    background: var(--focusedBack);
    border-color: var(--focusedBord);
    font-weight: var(--fw-strong);
}

/* Base champs & listes */
.input, select, textarea{
    /* Dimension pour tous les éléments */
    height: var(--control-h);
    width: 100%;
    padding: 0 var(--pad-x);
    border-radius: var(--radius);
    /* Cliquable */
    border: 1px solid var(--clickableBord);
    background: var(--clickableBack); 
    cursor: pointer;
    touch-action: manipulation;       /* coupe le geste double-tap=zoom */
    -webkit-tap-highlight-color: transparent; 
    /* Texte vide */
    color: var(--emptyColor);
    font-weight: var(--fw-light);
}
textarea{
    resize: vertical;
}
/* Valeur définie (non vide) — forcer style “défini” */
.has-value{
  color: var(--filledColor);
  font-weight: var(--fw-strong);
}

/* Focus/actif -> fond gris + bordure strong */
.input:focus,
select:focus,
textarea:focus{
    /* Focusé */
    background: var(--focusedBack);
    border-color: var(--focusedBord);
    font-weight: var(--fw-strong);
}

/* Tags */
.tags{
  --tag-gap: 1px;                              /* UN seul pixel d’écart */
  --tag-columns: 1;
  --tag-width: calc((100% - (var(--tag-columns, 1) - 1) * var(--tag-gap, 1px)) / var(--tag-columns, 1));
  display:flex; flex-wrap:wrap;
  gap: var(--tag-gap);
}
.tags.mono .tag{
  font-family: "SFMono-Regular","Roboto Mono","Menlo","Courier New",monospace;
  font-weight: var(--fw-base);
}
.tag{
    /* Dimension pour tous les éléments */
    height: var(--control-h);
    max-width: var(--tag-width);
    min-width:0;
    padding: 0 var(--pad-x);
    border-radius: var(--radius);
    /* Cliquable */
    border: 1px solid var(--clickableBord);
    background: var(--clickableBack); 
    cursor: pointer;
    touch-action: manipulation;       /* coupe le geste double-tap=zoom */
  font: inherit;
  display:inline-flex; align-items:center; justify-content:center;
  flex: 0 0 var(--tag-width);
  margin: 0;
  user-select:none;
  box-sizing:border-box;
  overflow:hidden;
  text-overflow:ellipsis;
  white-space:nowrap;
  text-align:center;
}
.tag.selected{
    background: var(--selectedBack);
    border-color: var(--selectedBord);
}
.tag:focus{
    outline: 2px solid var(--emphase);
    outline-offset: 2px;
}


/* =========================================================
   8) Boutons
   ========================================================= */
.btn{
    /* Dimension pour tous les éléments */
    min-height:var(--control-h);
    min-width:var(--control-h);
    padding: 0 var(--pad-x);
    border-radius: var(--radius);  
    /* Cliquable */
    border: 1px solid var(--clickableBord);
    background: var(--clickableBack); 
    cursor: pointer;
    touch-action: manipulation;       /* coupe le geste double-tap=zoom */
     display:inline-flex; align-items:center; justify-content:center;   
  color: var(--black);
  font-weight: var(--fw-strong);
  user-select:none;
  -webkit-tap-highlight-color: transparent;
}
.btn:active{ transform: scale(.9); }
/* En-tête RETOUR */
.btn.ghost{
  border-color: var(--selectedBord);
  color: var(--selectedBord);
}

/* En-tête OK */
.btn.primary{
  border-color: var(--emphase);
  background: var(--emphase);
}

/* Supprimer */
.btn.danger{
  border-color: var(--red);
  color: var(--red);
}

/* Image cliquable (ex: preview) */
.btn.image{
  border-color: var(--black);
}

.btn-icon{
  min-width:36px;
  padding:8px;
  font-size:18px;
  line-height:1;
}
/* Disabled */
.btn[disabled]{ opacity:.5; cursor:not-allowed; }


/* Panneaux/cartes (listes, cartes) */
.panel{
  border: 1px solid var(--panelBord);              /* 4.Bordure --panelBord */
  border-radius: var(--radius);
  padding: var(--pad-y) var(--pad-x);
}
.exercise-card{
  background: var(--white);
  border: 1px solid var(--black);
  border-radius: var(--radius);
  padding: var(--pad-y) var(--pad-x);
}
.exercise-card-row{ display:flex; align-items:stretch; justify-content:space-between; gap:var(--gap); min-height:68px; }
.exercise-card-left{ display:flex; align-items:stretch; gap:10px; flex:1; min-width:0; }
.exercise-card-right{ display:flex; align-items:center; justify-content:flex-end; gap:8px; flex-shrink:0; min-width:40px; }
.exercise-card-text{ display:flex; flex-direction:column; gap:2px; min-width:0; justify-content:center; }
.exercise-card-text .element,
.exercise-card-text .details{
  overflow:hidden;
  text-overflow:ellipsis;
  white-space:nowrap;
}
.session-card-handle{
  border:none;
  background:none;
  color:inherit;
  padding:4px;
  border-radius:8px;
  cursor:grab;
  touch-action: none;
  display:flex;
  align-items:center;
  justify-content:center;
}
.session-card-handle,
.session-card-handle *,
.session-card-grip,
.session-card-grip *,
.session-card-sets,
.session-card-sets *,
.session-card-text,
.session-card-text *,
.session-card-pencil,
.session-card-pencil *{
  -webkit-user-select: none;
  user-select: none;
}
.session-card-handle:focus-visible{
  outline:2px solid var(--black);
  outline-offset:2px;
}
.session-card-handle:active{
  cursor:grabbing;
}
.session-card-grip{
  display:flex;
  flex-direction:column;
  gap:2px;
  align-items:center;
  justify-content:center;
}
.session-card-grip-dot{
  width:4px;
  height:4px;
  border-radius:50%;
  background:currentColor;
  opacity:.7;
}
.session-card-sets{
  display:flex;
  flex-direction:column;
  gap:4px;
  margin-top:4px;
}
.session-card-sets-row{
  display:grid;
  grid-template-columns:repeat(3, minmax(0, 1fr));
  gap:4px;
}
.session-card-sets:empty{
  display:none;
}
.session-card-set{
  display:flex;
  flex: 1 1 auto;
  align-items:center;
  justify-content:center;
  gap:4px;
  padding:4px 4px;
  border-radius:8px;
  border:1px solid var(--blocBord);
  font-size:var(--fs-small);
  line-height:1.1;
  width:100%;
  text-align:center;
}
.session-card-set--ellipsis{
  justify-content:center;
  font-weight:600;
}
.session-card-set sup{
  font-size:.7em;
  color:var(--selectedBord);
  font-weight:var(--fw-strong);
}

.session-card-set-rpe{
  color:var(--selectedBord);
}

.rpe[data-rpe="5"] { color:#3a7; }
.rpe[data-rpe="6"] { color:#3c8; }
.rpe[data-rpe="7"] { color:#6c6; }
.rpe[data-rpe="8"] { color:#c93; }
.rpe[data-rpe="9"] { color:#d55; }
.rpe[data-rpe="10"]{ color:#a00; }


/* RPE chips (couleurs existantes) */
.rpe-chip{ display:inline-block; padding:4px 8px; border-radius:999px; color:#fff; font-weight: var(--fw-strong); font-size:.9em; }
.rpe-5{ background:#3a7; }
.rpe-6{ background:#3c8; }
.rpe-7{ background:#6c6; }
.rpe-8{ background:#c93; }
.rpe-9{ background:#d55; }
.rpe-10{ background:#a00; }

.session-card-pencil{
  font-size:20px;
  line-height:1;
}
.session-card-dragging{
  box-shadow:0 10px 24px rgba(0,0,0,.18);
}
.session-card-placeholder{
  border:1px dashed var(--panelBord);
  border-radius:var(--radius);
}
.exercise-card-thumb{
  height:100%;
  aspect-ratio:1 / 1;
  width:auto;
  border-radius:8px;
  object-fit:cover;
  flex-shrink:0;
  border: 1px solid var(--blocBord);
  align-self:stretch;
}

.selected {  
    background: var(--selectedBack);
    color: var(--selectedColor);
}
.exercise-card.clickable{ cursor:pointer; user-select:none; border: var(--black);}

.exercise-card-thumb.clickable{
  cursor: pointer;
  border-color: var(--clickableBord);
}
.exercise-card-check{
  width:20px;
  height:20px;
  cursor:pointer;
}
.exercise-card-eye{
  border:none;
  background:none;
  color:inherit;
  font-size:20px;
  line-height:1;
  cursor:pointer;
  padding:4px;
  border-radius:50%;
}
.exercise-card-eye:focus-visible{
  outline:2px solid var(--black);
  outline-offset:2px;
}
.exercise-thumb-placeholder{ object-fit:contain; }
.exercise-selection-bar{
  position:sticky;
  top:0;
  z-index:10;
  padding:8px 0;
  background:var(--panelBack);
}
.exercise-selection-bar.hidden{ display:none; }
.exercise-hero-placeholder{ object-fit:contain; }



/* =========================================================
   6) Listes / Filtres (écran Bibliothèque)
   ========================================================= */
.bloque{    display:flex; flex-direction:column; gap:var(--gap); margin-top:var(--gap); }
.hint{ margin-top:6px; color: var(--selectedBord); font-size: var(--fs-small); }
/* Placeholders d’images */
.exercise-row{
  display:grid; grid-template-columns: 64px 1fr auto;
  gap:10px; align-items:center;
  padding:8px 0; border-bottom:1px solid var(--panelBord);
}
.exercise-row img{
  width:64px; height:64px; object-fit:cover; border-radius:8px;
}

/* =========================================================
   7) Semaine & calendrier
   ========================================================= */
.week-strip-wrapper{
  display:flex; 
  align-items:center; 
  gap:var(--gap);
  margin-bottom:12px;
}
.week-strip{
  display:flex; gap:var(--gap); overflow-x:auto;
  padding-bottom:8px; margin-bottom:0;
  border-bottom:1px dashed var(--panelBord);
  -webkit-overflow-scrolling:touch;
  scrollbar-width:none;
}
.week-strip::-webkit-scrollbar{ display:none; }


.week-strip-wrapper .week-strip{ flex:1; }
.week-strip .week-page{
  display:grid; grid-template-columns:repeat(7,minmax(0,1fr));
  gap:var(--gap);
  flex:0 0 100%; width:100%;
}
.week-strip .day{
  height: var(--control-h);
  display:flex; flex-direction:column; align-items:center; justify-content:center;
  gap:4px;
  padding:6px 4px;
  text-align:center; white-space:normal; line-height:1.1;
  border:1px solid var(--panelBord);
  border-radius: var(--radius);
  background: var(--panelBord);
  font-weight: var(--fw-strong);
  user-select:none; cursor:pointer;
  transition: transform .06s ease;
}
.week-strip .day span{ display:block; }
.week-strip .day-weekday{ font-size: var(--fs-small); text-transform:capitalize; }
.week-strip .day-number{ font-size:1.1em; }
.week-strip .day:active{ transform: scale(.98); }

/* Règles de priorité: selected > has-session > planned */
.week-strip .day.planned{
  background: var(--backGrayB); color: #333; border-color: var(--backGrayB);
}
.week-strip .day.has-session{
  background: var(--black); color:#fff; border-color: var(--black);
}
.week-strip .day.selected{
  background: var(--emphase); color:#fff; border-color: var(--emphase);
}
/* =========================================================
   7) calendrier
   ========================================================= */

/* Modale calendrier */
#dlgCalendar.modal{
    margin:0;
    position:fixed;
    left:50%;
    transform:translateX(-50%);
    bottom: calc(var(--tabbar-h) + env(safe-area-inset-bottom, 0) + 12px);
}

.month-grid{ display:grid; grid-template-columns: repeat(7,1fr); gap:6px; }
.dow{ text-align:center; color: var(--selectedBord); font-weight: var(--fw-strong); }
/* Day cell use Tag style */

  
.day-cell{
    height: var(--control-h);
    padding:8px 0;
    border-radius: var(--radius);
    border: 1px solid var(--black);
    color: var(--selectedBord);
    text-align:center;
    background:var(--panelBord);
    cursor:pointer;
    user-select:none;
}

.day-cell.planned{     background: var(--selectedBack);  color:var(--panelBord); border-color: var(--backGrayB); }
.day-cell.has-session{ background: var(--selectedBack);  color:var(--panelBord); border-color: var(--backGrayB); }
.day-cell.selected{    background: var(--black);     color:var(--panelBord); border-color: var(--black); }

.day-cell.placeholder{
    background: transparent;
    border-color: transparent;
    cursor: default;
    pointer-events: none;
}

/* =========================================================
   8) Liste de série (séance & routine)
   ========================================================= */
.session-list{
    display:flex;
    flex-direction:column;
    gap:12px;
    margin:16px 0; 
}
.element{ font-weight: var(--fw-strong); }

/* Grille des séries (3 par ligne) */
.set-grid{
    display:grid; grid-template-columns: repeat(3,1fr);
    gap: var(--gap); margin-top: var(--gap);
}
.set-cell{
    border:1px solid var(--panelBord);
    border-radius: var(--radius);
    padding: 8px 10px;
    text-align:center;
    font-size: var(--fs-small);
}
.set-cell sup{ font-size:.7em; color: var(--selectedBord); }
.set-cell .rpe{ font-size: var(--fs-rpe); }   /* 3.RPE a sa propre taille */

/* État “vide” */
.empty{
  color: var(--selectedBord);
  border:1px dashed var(--panelBord);
  border-radius: var(--radius);
  padding: 12px; text-align:center;
}

/* =========================================================
   9) Édition exécution (Colonne A) & Timer
   ========================================================= */
.exec-grid{
  display:grid; gap:8px; margin-top:8px;
  grid-template-columns: 1.2fr 1.2fr .8fr .8fr .8fr auto; /* Reps | Poids | RPE | Repos mn | Repos sec | Action */
  text-align:center; align-items:center;
}
.exec-grid.routine-set-grid{
  grid-template-columns: minmax(32px, 0.4fr) 1fr 1fr .8fr .8fr .8fr auto; /* # | Reps | Poids | RPE | Repos mn | Repos sec | Actions */
}
.routine-set-grid > *{ min-width:0; }
.exec-head{ font-weight: var(--fw-strong); }
.exec-head > *{ display:flex; flex-direction:column; align-items:center; justify-content:center; text-align:center; }
.routine-set-head{
  font-size: var(--fs-small);
  color: var(--selectedBord);
}
.routine-set-head .set-editor-label{
  font-weight: var(--fw-strong);
}
.exec-row .input{
  height: var(--control-h); width:100%;
  text-align:center; margin:0; padding:0 8px;
}

.exec-row.exec-executed,
.exec-row.exec-planned,
.exec-row.exec-new,
.exec-edit-row{
  font-size: var(--fs-base);
}

.routine-set-actions{
  display:flex;
  justify-content:flex-end;
  gap:8px;
}

.routine-set-actions .btn{
  border-color: var(--black);
  color: var(--black);
}

.routine-set-row-active{
  box-shadow: inset 0 -2px var(--emphase);
}

.routine-set-order{
  font-weight: var(--fw-strong);
}

.set-edit-button{
  width:100%;
  min-height: var(--control-h);
  font-weight: var(--fw-strong);
  font-size: var(--fs-base);
  color: var(--black);
  background: var(--panelBord);
  border-color: var(--black);
}
.routine-set-grid .set-edit-button{
  color: var(--black);
}

.exec-set-row{
  color: var(--black);
}

.exec-set-row .set-edit-button{
  color: inherit;
}

.exec-set-row .set-edit-button:hover,
.exec-set-row .set-edit-button:focus{
  color: inherit;
}

.exec-set-planned{
  color: var(--blocBord);
}

.exec-set-planned .set-edit-button{
  border-color: var(--blocBord);
  color: var(--blocBord);
}

.exec-set-planned .routine-set-order{
  color: var(--blocBord);
}

.exec-set-planned .routine-set-actions .btn{
  border-color: var(--blocBord);
  color: var(--blocBord);
}

.exec-set-planned .rpe-chip{
  background: transparent;
  border: 1px solid var(--blocBord);
  color: var(--blocBord);
}

.rpe-chip-muted{
  background: transparent;
  border: 1px solid currentColor;
  color: inherit;
}

.set-edit-button:hover,
.set-edit-button:focus{
  outline:none;
}

.set-editor-highlight{
  border-radius: var(--radius);
  outline: 2px solid var(--emphase);
  outline-offset: 0;
}

.set-editor-highlight .set-edit-button{
  outline: 2px solid var(--emphase);
  outline-offset: 0;
}

.set-editor-highlight .set-edit-button:hover,
.set-editor-highlight .set-edit-button:focus{
}

.exec-rest-cell{
  font-variant-numeric: tabular-nums;
}

.routine-set-head-rest{
  grid-column: span 2;
  display:flex;
  align-items:center;
  justify-content:center;
  text-align:center;
}

.add-actions{
  margin-top: var(--gap);
}

.set-editor-form{
  display:flex;
  flex-direction:column;
  gap:14px;
  min-width:280px;
}

.set-editor-grid{
  display:grid;
  gap:8px;
  grid-template-columns: repeat(5, minmax(0, 1fr));
}

.set-editor-field{
  display:flex;
  flex-direction:column;
  gap:2px;
}

.set-editor-label{
  font-weight: var(--fw-strong);
  font-size: var(--fs-small);
  line-height:1.1;
  color: var(--selectedBord);
  text-align:center;
}

.set-editor-rest{
  grid-column: span 2;
  display:flex;
  flex-direction:column;
  align-items:center;
}

.set-editor-rest-grid{
  display:grid;
  gap:8px;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  justify-items:center;
  width:100%;
}

.set-editor-subfield{
  display:flex;
  flex-direction:column;
  align-items:center;
}

.set-editor-rest-grid .vstepper{
  width:75%;
}

.set-editor-rest-grid .vstepper .btn{
  height: var(--control-h);
  min-height: var(--control-h);
  font-size: calc(var(--fs-base) * 0.75);
  padding-inline: 0;
}

.set-editor-rest-grid .vstepper .input{
  height: var(--control-h);
  min-height: var(--control-h);
  text-align:center;
  font-size: calc(var(--fs-base) * 0.75);
}

.set-editor-actions{
  display:flex;
  gap:8px;
}

.set-editor-actions .btn{
  flex:1 1 0;
  min-width:0;
}

.set-editor-actions-vertical{
  flex-direction:column;
}

.set-editor-actions-vertical .btn{
  flex:0 0 auto;
  width:100%;
}

.set-editor-form.set-editor-tone-black .set-editor-field .vstepper .input,
.set-editor-form.set-editor-tone-black .set-editor-field .vstepper .btn,
.set-editor-form.set-editor-tone-black .set-editor-actions .btn.ghost{
  color: var(--black);
  border-color: var(--black);
}

.set-editor-form.set-editor-tone-black .set-editor-field .vstepper .input{
  font-weight: var(--fw-strong);
}

.set-editor-form.set-editor-tone-muted .set-editor-field .vstepper .input,
.set-editor-form.set-editor-tone-muted .set-editor-field .vstepper .btn,
.set-editor-form.set-editor-tone-muted .set-editor-actions .btn.ghost{
  color: var(--selectedBord);
  border-color: var(--selectedBord);
}

.set-editor-form.set-editor-tone-muted .set-editor-field .vstepper .input{
  font-weight: var(--fw-base);
}

.set-editor-form .vstepper{
  width:100%;
}

.set-editor-form .vstepper .input{
  text-align:center;
}



.exec-row.is-selected{
  background: var(--selectedBack);
  color: var(--selectedColor);
  box-shadow: 0 0 0 2px var(--emphase);
  border-radius: var(--radius);
}

.exec-row.is-selected .details,
.exec-row.is-selected .details *,
.exec-row.is-selected .input,
.exec-row.is-selected select,
.exec-row.is-selected .btn{
  color: var(--selectedColor);
}

.exec-row.is-selected .input,
.exec-row.is-selected select{
  background: transparent;
  border-color: var(--selectedBord);
}

.exec-row.is-selected .btn{
  border-color: var(--selectedBord);
}

/* Stepper vertical */
.vstepper{ 
	display:flex; 
	flex-direction:column; 
	gap:4px;
	touch-action: manipulation;       /* coupe le geste double-tap=zoom */
    -webkit-tap-highlight-color: transparent; 
}
.vstepper .btn{ font-size: var(--fs-base); min-height:32px; line-height:1; }

/* number sans flèches natives */
input[type="number"]::-webkit-outer-spin-button,
input[type="number"]::-webkit-inner-spin-button{ -webkit-appearance:none; margin:0; }
input[type="number"]{ -moz-appearance:textfield; }


/* =========================================================
   Statistiques
   ========================================================= */
.stats-header {
    margin-bottom: 16px;
}

.stats-subtitle {
    color: var(--selectedBord);
}

.stats-chart-card {
    margin-bottom: 16px;
    padding: 0;
    border: 1px solid var(--blocBord);
    border-radius: var(--radius);
}

#statsMetricTags,
#statsRangeTags {
    --tag-columns: 4;
}

.stats-tags-group {
    gap: 6px;
}

.stats-chart {
    width: 100%;
    min-height: 240px;
}

.stats-chart-svg {
    width: 100%;
    height: 240px;
    display: block;
}

.stats-chart-svg .stats-axis-label {
    font-size: 10px;
    fill: var(--selectedBord);
}

.stats-chart-svg .stats-axis-tick {
    font-size: 12px;
    fill: var(--selectedBord);
}

.stats-chart-svg .stats-grid-line {
    stroke: var(--black);
    stroke-width: 1;
}

.stats-chart-svg .stats-axis-tick-line {
    stroke: #d4d4d4;
    stroke-width: 1.5;
}

.stats-chart-empty {
    padding: 24px 0;
    text-align: center;
    color: var(--selectedBord);
}

.stats-section-title {
    margin: 24px 0 12px;
    font-weight: var(--fw-strong);
}

.stats-timeline {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.stats-timeline-item {
    display: flex;
    justify-content: space-between;
    align-items: baseline;
    padding: 12px 16px;
    border: 1px solid var(--blocBord);
    border-radius: var(--radius);
}

.stats-timeline-date {
    font-weight: var(--fw-strong);
}

.stats-timeline-value {
    color: var(--black);
    font-weight: var(--fw-strong);
}

.stats-timeline-empty {
    padding: 16px;
    text-align: center;
    color: var(--selectedBord);
    background: transparent;
}



/* Champs spécifiques */
/* =========================================================
   10) Responsivité
   ========================================================= */
@media (min-width: 720px){
  .content{ padding-left:16px; padding-right:16px; }
}
