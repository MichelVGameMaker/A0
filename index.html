<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#0A84FF" />
  <title>Muscu PWA</title>
  <link rel="manifest" href="manifest.webmanifest?v=6">
  <link rel="stylesheet" href="styles.css?v=6">
</head>
<body class="theme-light">

  <!-- En-t√™te -->
  <header id="appHeader" class="app-header">
    <button id="btnBack" class="nav-back" aria-label="Retour" hidden>‚Üê</button>
    <h1 id="title" class="title">S√©ances</h1>
    <button id="btnOk" class="nav-ok" hidden>OK</button>
  </header>

  <nav id="subTabs" class="subtabs" hidden></nav>

  <main id="app" class="app">
    <!-- 3.4 S√©ances -->
    <section class="view" id="v-sessions" data-route="sessions">
      <div class="toolbar">
        <div class="today" id="todayLabel"></div>
        <button id="btnQuickNav" class="btn ghost">Navigation rapide</button>
      </div>
      <div id="calendar" class="calendar"></div>
      <div id="sessionExercises" class="card-list"></div>
      <div class="card-list" id="sessionActions">
        <button class="btn primary" id="btnAddPlanned" disabled>Ajouter &lt;routine&gt;</button>
        <label class="select-row">
          <select id="pickRoutine"></select>
          <span class="btn-label">Ajouter une routine</span>
        </label>
        <button class="btn" id="btnAddFromLibrary">Ajouter exercice/s</button>
      </div>
      <div class="spacer64"></div>
    </section>

    <!-- 3.1.1 Exercices -->
    <section class="view enter-from-right" id="v-exercises" data-route="exercises" hidden>
      <div class="search">
        <input id="searchExo" class="input" type="search" placeholder="Rechercher‚Ä¶" />
        <div class="filters">
          <select id="fGrp" class="input"><option value="">Groupe musculaire</option></select>
          <select id="fMat" class="input"><option value="">Mat√©riel</option></select>
        </div>
      </div>
      <div class="card-list">
        <button class="btn primary" id="btnNewExercise">+ Ajouter un exercice</button>
      </div>
      <ul id="exerciseList" class="list"></ul>
      <div class="spacer64"></div>
    </section>

    <!-- 3.1.2 Form Exercice -->
    <section class="view enter-from-right" id="v-exercise-form" data-route="exercise-form" hidden>
      <div class="card danger soft" id="exerciseDeleteRow" hidden>
        <button class="btn danger outline" id="btnDelExercise">üóëÔ∏è Supprimer</button>
      </div>
      <form id="exerciseForm" class="form">
        <label>Nom<input name="name" class="input" placeholder="Nom‚Ä¶"></label>
        <label>Groupe musculaire
          <select name="group3" class="input">
            <option value="">Choisir‚Ä¶</option>
            <option>Pectoraux</option><option>Dos</option><option>√âpaules</option>
            <option>Biceps</option><option>Triceps</option>
            <option>Quadriceps</option><option>Ischio</option><option>Mollets</option>
            <option>Abdos</option><option>Cardio</option>
          </select>
        </label>
        <label>Mat√©riel
          <select name="equipment" class="input">
            <option value="">Choisir‚Ä¶</option>
            <option>Machine</option><option>Poids</option><option>Poids de corps</option>
            <option>√âlastique</option><option>Barre</option><option>Autre</option>
          </select>
        </label>
        <label>Description<textarea name="desc" class="input" rows="4" placeholder="Description‚Ä¶"></textarea></label>
      </form>
    </section>

    <!-- 3.2.1 Routines -->
    <section class="view enter-from-right" id="v-routines" data-route="routines" hidden>
      <div class="search">
        <input id="searchRoutine" class="input" type="search" placeholder="Rechercher‚Ä¶" />
        <div class="filters">
          <select id="fType" class="input">
            <option value="">Type</option>
            <option>G√©n√©ral</option><option>HIT</option><option>HIIT</option>
            <option>Volume</option><option>Hypertrophie</option>
            <option>Force pure</option><option>Conditionnement</option><option>Circuit</option>
          </select>
        </div>
      </div>
      <div class="card-list">
        <button class="btn primary" id="btnNewRoutine">+ Ajouter une routine</button>
      </div>
      <ul id="routineList" class="list reorderable"></ul>
      <div class="spacer64"></div>
    </section>

    <!-- 3.2.2 Form Routine -->
    <section class="view enter-from-right" id="v-routine-form" data-route="routine-form" hidden>
      <div class="card danger soft" id="routineDeleteRow" hidden>
        <button class="btn danger outline" id="btnDelRoutine">üóëÔ∏è Supprimer</button>
      </div>
      <form id="routineForm" class="form">
        <label>Nom<input name="name" class="input" placeholder="Nom‚Ä¶"></label>
        <label>Type
          <select name="type" class="input">
            <option>G√©n√©ral</option><option>HIT</option><option>HIIT</option>
            <option>Volume</option><option>Hypertrophie</option>
            <option>Force pure</option><option>Conditionnement</option><option>Circuit</option>
          </select>
        </label>
        <label>Description<textarea name="desc" class="input" rows="3" placeholder="Description‚Ä¶"></textarea></label>
      </form>
      <div class="card-list">
        <button class="btn" id="btnAddMovements">+ Ajouter exercice/s</button>
      </div>
      <ul id="movementList" class="list reorderable"></ul>
      <div class="spacer64"></div>
    </section>

    <!-- 3.2.4 Ajout de mouvements -->
    <section class="view enter-from-right" id="v-add-movements" data-route="add-movements" hidden>
      <div class="search">
        <input id="searchExoForRoutine" class="input" type="search" placeholder="Rechercher‚Ä¶" />
        <div class="filters">
          <select id="fGrp2" class="input"><option value="">Groupe musculaire</option></select>
          <select id="fMat2" class="input"><option value="">Mat√©riel</option></select>
        </div>
      </div>
      <ul id="exercisePickList" class="list"></ul>
    </section>

    <!-- 3.3 Plan (28 jours) -->
    <section class="view enter-from-right" id="v-plan" data-route="plan" hidden>
      <div class="card-list">
        <button id="btnSetPlanStart" class="btn">D√©finir date de d√©part du plan</button>
      </div>
      <ul id="planList" class="list"></ul>
      <div class="spacer64"></div>
    </section>

    <!-- 3.4.2 Modifier l‚Äôex√©cution -->
    <section class="view enter-from-right" id="v-exec" data-route="exec" hidden>
      <div class="exec-grid">
        <div class="exec-col">
          <div class="exec-title" id="execDateA"></div>
          <div class="exec-head">Reps | Poids | RPE | Repos</div>
          <ul id="execToday" class="exec-list"></ul>
          <button class="btn danger" id="btnDelLastSet">Supprimer la derni√®re s√©rie</button>
        </div>
        <div class="exec-col">
          <div class="exec-title" id="execDateB"></div>
          <div class="exec-head">Reps | Poids | RPE | Repos</div>
          <ul id="execPrev" class="exec-list readonly"></ul>
        </div>
      </div>
      <div class="exec-bottom">
        <div class="exec-meta">
          <div id="execGoal"></div>
          <div id="execRecord"></div>
        </div>
        <div class="timer">
          <button id="tMinus">-10s</button>
          <span id="tDisplay">00:00</span>
          <button id="tPlus">+10s</button>
        </div>
      </div>
    </section>

    <!-- 3.5 Objectifs (placeholder minimal) -->
    <section class="view enter-from-right" id="v-goals" data-route="goals" hidden>
      <div class="card-list"><button class="btn">+ Ajouter objectif</button></div>
      <ul id="goalList" class="list"></ul>
      <div class="spacer64"></div>
    </section>

    <!-- 3.6/3.7 Stats (placeholder) -->
    <section class="view enter-from-right" id="v-stats-general" data-route="stats-general" hidden>
      <div class="kpis">
        <div class="kpi"><b id="kpiSessions">0</b><span>S√©ances</span></div>
        <div class="kpi"><b id="kpiSets">0</b><span>S√©ries</span></div>
        <div class="kpi"><b id="kpiVolume">0</b><span>Volume</span></div>
      </div>
      <div class="spacer64"></div>
    </section>
    <section class="view enter-from-right" id="v-stats-progress" data-route="stats-progress" hidden>
      <div class="search"><input class="input" placeholder="Rechercher un exercice‚Ä¶"></div>
      <div class="spacer64"></div>
    </section>
  </main>

  <!-- Barre d‚Äôonglets -->
  <footer class="tabbar">
    <button data-tab="sessions" class="tab active" aria-label="S√©ances">üèãÔ∏è‚Äç‚ôÇÔ∏è</button>
    <button data-tab="libraries" class="tab" aria-label="Biblioth√®ques">üìö</button>
    <button data-tab="stats" class="tab" aria-label="Statistiques">üìà</button>
    <button data-tab="settings" class="tab" aria-label="R√©glages">‚öôÔ∏è</button>
  </footer>

  <script type="module" src="app.js?v=6"></script>
</body>
</html>
