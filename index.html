<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Muscu â€¢ SÃ©ances</title>

  <!-- iOS PWA -->
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="default" />
  <link rel="apple-touch-icon" href="icons/icon-192.png" />

  <!-- Manifest + CSS -->
  <link rel="manifest" href="manifest.webmanifest" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- En-tÃªte (spÃ©cifique Ã  l'Ã©cran SÃ©ances) -->
  <header class="header-session safe-top">
    
    <div class="header-left">
      <span id="todayLabel">â€”</span>
    </div>

    <div class="header-right">
      <button id="btnQuickNav" class="btn ghost" title="Calendrier">ğŸ“…</button>
    </div>

  </header>

  <main class="content">
    <!-- Calendrier 1 semaine dÃ©filable -->
    <section class="week-strip" id="weekStrip" aria-label="Calendrier 1 semaine"></section>

    <!-- Liste des exercices de la sÃ©ance -->
    <section id="sessionList" class="session-list" aria-label="SÃ©ance du jour"></section>

    <!-- Boutons d'ajout -->
    <section class="add-actions" id="addActions">
      <button id="btnAddPlanned" class="btn primary full">Ajouter &lt;routine&gt;</button>
      <div class="row">
        <label for="selectRoutine" class="sr-only">Ajouter une routine</label>
        <select id="selectRoutine" class="input flex-1">
          <option value="">Ajouter une routineâ€¦</option>
        </select>
        <button id="btnAddRoutine" class="btn">Ajouter</button>
      </div>
      <button id="btnAddExercises" class="btn">Ajouter exercice/s</button>
    </section>
  </main>

  <!-- Barre dâ€™onglets fixe (icÃ´nes) -->
  <nav class="tabbar safe-bottom" aria-label="Navigation principale">
    <button class="tab active" title="SÃ©ances" aria-label="SÃ©ances">ğŸ‹ï¸</button>
    <button class="tab" title="BibliothÃ¨ques" aria-label="BibliothÃ¨ques">ğŸ“š</button>
    <button class="tab" title="Statistiques" aria-label="Statistiques">ğŸ“ˆ</button>
    <button class="tab" title="RÃ©glages" aria-label="RÃ©glages">âš™ï¸</button>
  </nav>

  <!-- Modale calendrier (Navigation rapide) -->
  <dialog id="dlgCalendar" class="modal">
  <div class="modal-header">
    <button id="calPrev" class="btn ghost" aria-label="Mois prÃ©cÃ©dent">â—€ï¸</button>
    <strong id="calTitle">Calendrier</strong>
    <div style="display:flex; gap:8px;">
      <button id="calNext" class="btn ghost" aria-label="Mois suivant">â–¶ï¸</button>
      <button id="dlgClose" class="btn ghost">Fermer</button>
    </div>
  </div>
  <div id="bigCalendar" class="big-calendar"></div>
</dialog>

  <!-- JS (ordre important) -->
  <script src="db.js"></script>
  <script src="state.js"></script>
  <script src="ui-week.js"></script>
  <script src="ui-calendar.js"></script>
  <script src="ui-session.js"></script>
  <script src="init.js"></script>
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('./sw.js');
      });
    }
  </script>
</body>
</html>
